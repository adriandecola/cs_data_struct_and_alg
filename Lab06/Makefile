CC = gcc
CFLAGS = -Wall --std=c99 -g
MAIN_OBJECT = main_queue.o
EXECUTABLE = queue_output
LINKED_CFILE = queue.c
MAIN_CFILE = main_queue.c
LINKED_OBJECT = queue.o
TEST_MAIN_CFILE = main_test.c
TEST_MAIN_OBJECT = main_test.o
TEST_LINKED_CFILE = unit_tests.c
TEST_LINKED_OBJECT = unit_tests.o 
TEST_EXECUTABLE = unit_test

$(EXECUTABLE): $(MAIN_OBJECT) $(LINKED_OBJECT) $(TEST_EXECUTABLE)
	$(CC) $(CFLAGS) -o $(EXECUTABLE) $(MAIN_OBJECT) $(LINKED_OBJECT)
$(LINKED_OBJECT): $(LINKED_CFILE)
	$(CC) $(CFLAGS) -c $(LINKED_CFILE) -o $(LINKED_OBJECT)
$(MAIN_OBJECT): $(MAIN_CFILE) 
	$(CC) $(CFLAGS) -c $(MAIN_CFILE) -o $(MAIN_OBJECT)
$(TEST_MAIN_OBJECT) : $(TEST_MAIN_CFILE)
	$(CC) $(CFLAGS) -c $(TEST_MAIN_CFILE) -o $(TEST_MAIN_OBJECT)
$(TEST_LINKED_OBJECT): $(TEST_LINKED_CFILE)
	$(CC) $(CFLAGS) -c $(TEST_LINKED_CFILE) -o $(TEST_LINKED_OBJECT)
$(TEST_EXECUTABLE) : $(LINKED_OBJECT) $(TEST_MAIN_OBJECT) $(TEST_LINKED_OBJECT)
	$(CC) $(CFLAGS) -o $(TEST_EXECUTABLE) $(TEST_MAIN_OBJECT) $(TEST_LINKED_OBJECT) $(LINKED_OBJECT) 

clean:
	rm $(EXECUTABLE) $(MAIN_OBJECT) $(LINKED_OBJECT) $(TEST_MAIN_OBJECT) $(TEST_LINKED_OBJECT) $(TEST_EXECUTABLE)


